{% extends "base.html" %}

{% block content %}
    <h2>{{ titulo }}</h2>
    
    <form method="POST">
        <div>
            <label for="Titulo">Título *</label>
            <input type="text" id="Titulo" name="Titulo" 
                   value="{{ livro.Titulo if livro else '' }}" required>
        </div>
        
        <div>
            <label for="Autor_id">Autor</label>
            <select id="Autor_id" name="Autor_id">
                <option value="">-- Selecione um Autor --</option>
                {% for autor in autores %}
                    <option value="{{ autor.ID_autor }}" 
                            {% if livro and livro.Autor_id == autor.ID_autor %}selected{% endif %}>
                        {{ autor.Nome_autor }}
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <div>
            <label for="Genero_id">Gênero</label>
            <select id="Genero_id" name="Genero_id">
                <option value="">-- Selecione um Gênero --</option>
                {% for genero in generos %}
                    <option value="{{ genero.ID_genero }}"
                            {% if livro and livro.Genero_id == genero.ID_genero %}selected{% endif %}>
                        {{ genero.Nome_genero }}
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <div>
            <label for="Editora_id">Editora</label>
            <select id="Editora_id" name="Editora_id">
                <option value="">-- Selecione uma Editora --</option>
                {% for editora in editoras %}
                    <option value="{{ editora.ID_editora }}"
                            {% if livro and livro.Editora_id == editora.ID_editora %}selected{% endif %}>
                        {{ editora.Nome_editora }}
                    </option>
                {% endfor %}
            </select>
        </div>
        
        <div>
            <label for="ISBN">ISBN *</label>
            <input type="text" id="ISBN" name="ISBN" 
                   value="{{ livro.ISBN if livro else '' }}" required>
        </div>
        <div>
            <label for="Ano_publicacao">Ano de Publicação</label>
            <input type="number" id="Ano_publicacao" name="Ano_publicacao" 
                   value="{{ livro.Ano_publicacao if livro else '' }}">
        </div>
        <div>
            <label for="Quantidade_disponivel">Quantidade Disponível</label>
            <input type="number" id="Quantidade_disponivel" name="Quantidade_disponivel" 
                   value="{{ livro.Quantidade_disponivel if livro else 0 }}">
        </div>
        <div>
            <label for="Resumo">Resumo</label>
            <textarea id="Resumo" name="Resumo" rows="5">{{ livro.Resumo if livro else '' }}</textarea>
        </div>
        
        <div>
            <button type="submit">Salvar</button>
        </div>
    </form>
{% endblock %}